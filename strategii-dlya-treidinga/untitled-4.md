---
description: Автоматическое усреднение
---

# Dollar Cost Avg \(DCA\) - Средняя стоимость доллара

Double Up \(DU\) - это функция Gunbot для автоматического усреднения активов, снижая среднюю стоимость за единицу, когда цены падают после обычного заказа на покупку. 

Снижая среднюю цену за единицу, цена для выхода из сделки выгодно становится ниже. Конечно, очевидный риск усреднения заключается в том, чтобы больше инвестировать в уже упавшие в цене единицы. Используйте эту функцию осторожно.

{% hint style="info" %}
Используйте [лист гестматора DU](https://docs.google.com/spreadsheets/d/1fTqYl-KkqYo1bCTQm1CoS1PcSoWW-oBFf2iLfXYFKyk) для имитации ваших настроек DU. 

Не стесняйтесь сделать копию файла. Спасибо [Trashdog01](https://telegram.me/Trashdog01)!
{% endhint %}

## Как это работает <a id="how-it-works"></a>

Ниже приведен пример использования Double Up. Соответствующие настройки, используемые в примере:

* `DU_METHOD` установлен в `HIGHBB`. С помощью этого метода каждая покупка DU запускается, когда верхняя полоса Боллинджера пересекает последнюю цену покупки. 
* `DOUBLE_UP_CAP` установлен в 1. Каждая покупка DU на 1: 1 - количество уже имеющихся единиц котировки. 
* Для `DU_CAP_COUNT` установлено значение 2. Допускается максимум две покупки DU. 
* `DU_BUYDOWN` установлен в 1. Минимальная необходимая разница в цене для покупки DU по сравнению с ценой покупки предыдущего ордера.

![](https://user-images.githubusercontent.com/2372008/43907676-55eda770-9bf6-11e8-8124-60fb0d8d893d.PNG)

_Обратите внимание, что этот пример преднамеренно прост, суммы не отражают реальные сделки._

Используя приведенный выше пример: это обзор сделанных заказов на покупку - обратите внимание, как средняя цена за единицу снижается после каждой покупки DU: 

|  | **Units** | **Price per unit** | **Invested \(cumulative\)** | **Avg Price per Unit** |
| :--- | :--- | :--- | :--- | :--- |
| **Buy** | 100 | 12.500 | 1.250.000 | 12500 |
| **DU Buy 1** | 100 | 10.800 | 2.330.000 | 11650 |
| **DU Buy 2** | 200 | 8.090 | 3.948.000 | 9870 |

Результирующий ордер на продажу выгодно продал бы все доступные единицы по гораздо более низкой цене, чем первоначальный ордер на покупку: 

|  | **Units** | **Price per unit** | **Proceeds** |
| :--- | :--- | :--- | :--- |
| **Sell** | 400 | 10.000 | 4.000.000 |

Настраиваемые параметры для усреднения:

* **Buydown**: минимальная разница в цене между последней покупкой и следующей покупкой DU. Независимо от того, какой метод DU выбран, время покупки должно быть достигнуто для покупки DU. 
* **DU method:** **HIGHBB**, как показано выше, RSI, где покупки DU размещаются только в пределах настраиваемого диапазона RSI, и числовое значение, определяющее процентное падение цены по сравнению с последней купленной ценой.
* **Ratio:** Соотношение: определяет, сколько дополнительных единиц котировки покупается за каждую покупку DU. 
* **Frequency:** Частота: сколько заказов на покупку разрешено. 
* **Trailing:** Трейлинг: ордера на покупку DU могут дополнительно использовать трейлинг.

{% hint style="danger" %}
Double Up может инвестировать большие суммы базовой валюты. 

Будьте осторожны с установленным соотношением и частотой, убедитесь, что у вас достаточно свободных средств.
{% endhint %}

## Соответствующие настройки

Доступны следующие настройки параметров Double Up.

### Double Up - Удвоение <a id="double-up"></a>

Если установлено значение true, `DOUBLE_UP` будет пытаться избавиться от сумок путем усреднения. Работает на всех стратегиях. Усреднение вниз может израсходовать большой баланс, убедитесь, что у вас достаточно базовой валюты, чтобы покрыть каждую двойную покупку. Gunbot начнет усреднять сумку в соответствии с вашей настройкой для `DU_METHOD`. 

Усреднение вниз означает, что вы покупаете больше единиц по более низкой цене, снижая среднюю цену за единицу.

**Values:** true or false

**Default value:** false

Parameter name in `config.js`: `DOUBLE_UP`

### DU Method <a id="du-method"></a>

Это устанавливает триггер для размещения ордеров на покупку с удвоением. 

При значении **HIGHBB** Gunbot начнет усреднение по сумке, когда фактическая верхняя полоса Боллинджера опустится ниже покупной цены \(а не на расстояние от нее, как установлено в `HIGH_BB`\), а текущая цена будет в процентах ниже последней покупной цены, как установлено в `DU_BUYDOWN`. 

При значении **RSI** ордера на покупку будут размещаться только тогда, когда будет достигнуто значение `RSI_BUY_LEVEL`, а текущая цена будет на процент ниже цены последней покупки, как установлено в `DU_BUYDOWN`. 

Если задано **числовое** значение, например 2, ордера на покупку будут размещены, когда цена упадет на 2% по сравнению с последней купленной ценой. Имейте в виду, что `DU_BUYDOWN` все еще должен быть достигнут при использовании числовых значений для `DU_METHOD`.

**Values:** HIGHBB, RSI, или числовое значение, представляющее процент

**Default value:** HIGHBB

Parameter name in `config.js`: `DU_METHOD`

### Double Up Cap - Двойная покупка <a id="double-up-cap"></a>

Это определяет отношение к парному балансу, которое будет использоваться для каждой последующей покупки при удвоении. Установка его на 0,5 будет означать, что для усреднения используется коэффициент 0,5: 1. 

Рекомендуется установить это значение настолько высоким, насколько вы можете себе позволить, чтобы увеличить ваш шанс фактически усреднить и продать с прибылью. Убедитесь, что итоговая сумма для первого двойного ордера превышает `MIN_VOLUME_TO_SELL`

Пример с коэффициентом 1: начальная покупка 100 LTC, первый двойной ордер на покупку составляет 100 LTC, второй будет 200 LTC, затем 400 LTC и т. Д. Пример с коэффициентом 0,5: начальная покупка 100 LTC, первый заказ на двойную покупку 50 LTC, затем 75 LTC, затем 112,5 LTC.

**Values:** числовой, представляет собой соотношение.

**Default value:** 1

Parameter name in `config.js`: `DOUBLE_UP_CAP`

### DU Cap Count <a id="du-cap-count"></a>

Устанавливает максимальное количество раз, когда могут быть размещены двойные ордера. 

При значении 1 будет выставлено максимальное количество 1 двойных ордеров для усреднения. Когда вы устанавливаете это значение выше, удвоение может размещать больше ордеров и имеет более высокий шанс эффективного усреднения вниз и приближаться к прибыльной точке выхода при каждом размещении ордера с удвоением.

**Values:** Числовой

**Default value:** 0

Parameter name in `config.js`: `DU_CAP_COUNT`

### DU Buydown - покупка внизу <a id="du-buydown"></a>

Минимальное падение цены по сравнению с последней купленной ценой, которое должно произойти для размещения удвоенных покупок.

**Values:** числовой, представляет процент.

**Default value:** 2

Parameter name in `config.js`: `DU_BUYDOWN`

### RSI DU Buy <a id="rsi-du-buy"></a>

Используйте это, чтобы указать максимальный уровень RSI для покупки, когда `DU_METHOD`установлен в RSI.

**Values:** числовой, в диапазоне от 1 до 99

**Default value:** 30

Parameter name in `config.js`: `RSI_DU_BUY`

Удвоение зависит от нескольких настроек TrailMe для достижения лучших точек входа. Соответствующие настройки перечислены ниже.

### Trail Me DU <a id="trail-me-du"></a>

Используйте это для включения трейлинга в стиле tssl для удвоения ордеров.

**Values:** true or false

**Default value:** false

Parameter name in `config.js`: `TRAIL_ME_DU`

### Trail Me Buy Range <a id="trail-me-buy-range"></a>

Это устанавливает диапазон покупки для TrailMe. 

Установка диапазона 0,5% при начальной цене 0,1 установит диапазон от 0,0995 до 0,1005. Пока цены продолжают двигаться вниз, диапазон движется вниз вместе с ценой. 

Как только цены начинают повышаться, диапазон замораживается, и ордер на покупку размещается, когда цена пересекает верхнюю границу диапазона.

**Values:** числовой, представляет процент.

**Default value:** 0.5

Parameter name in `config.js`: `TRAIL_ME_BUY_RANGE`

### ​ <a id="undefined"></a>

